<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>javascript</title>
<style>
#resultDiv {
    height: 200px;
    border: 1px solid red;
}
</style>
</head>
<body>

	<h1>AJAX - 동기요청</h1>

	<button id="btn1">button1</button>
	
	<div id="resultDiv">
	
	</div>

	<script>
        // AJAX(Asynchronous Javascript And Xml
        // 웹 브라우저에서 웹 서버쪽으로 비동기 요청을 수행하는 것을 말한다.
        // 비동기란 자바의 스레드 처럼 작업을 실행 시켜놓고 즉시 다음 라인을 실행하는 방식이다.
        // 작업이 끝나면 등록된 함수를 호출하는 식으로 동작한다.
        // ajax가 등장하기 전에는 웹페이지의 특정 부분을 갱신하기 위해서는 페이지 전체를 다시 로딩해야 했다.
        // 현재는 웹페이지를 유지한 체로 웹서버에 요청할 수 있다.
        // 웹 서버의 응답 결과를 가지고 현재 웹 페이지의 일부를 갱신할 수 있다.
        // 이렇게 함으로써 전체 페이지를 다시 로딩하는 방식보다 네트워크 오버헤드가 줄어든다.
        
        btn1.onclick = function() {
            // HTTP 요청을 수행할 객체 준비
            var xhr = new XMLHttpRequest();
            
            // 서버에 연결
            // 첫번째 파라미터 : http 메서드 예)get, post, head
            // 두번째 파라미터 : url
            // 세번째 파라미터 : 비동기 요청 여부
            xhr.open('GET', 'ex01-1.jsp', false);
            
            // 서버에 요청 정보를 보낸다.
            // 동기요청인 경우 서버에서 응답이 올 때 까지 return 하지 않는다.
            xhr.send();
            
            // 서버에서 받은 응답 데이터를 추출한다.
            console.log(xhr.responseText);
            
            resultDiv.innerHTML = xhr.responseText; 
        }
    </script>

</body>
</html>